<!doctype html>
<html lang="en" class="no-js">

<head>
    <!-- Title and Icon -->

    <title id="title">DSS Meeting Platform</title>
    <link id="icon" rel="shortcut icon" href="../images/dss-logo.png" />
    <link id="appleTouchIcon" rel="apple-touch-icon" href="../images/logo.svg" />

    <!-- Meta Information -->

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta id="description" name="description"
        content="DSS powered by WebRTC and mediasoup, Real-time Simple Secure Fast video calls, messaging and screen sharing capabilities in the browser." />
    <meta id="keywords" name="keywords"
        content="webrtc, miro, mediasoup, mediasoup-client, self hosted, voip, sip, real-time communications, chat, messaging, meet, webrtc stun, webrtc turn, webrtc p2p, webrtc sfu, video meeting, video chat, video conference, multi video chat, multi video conference, peer to peer, p2p, sfu, rtc, alternative to, zoom, microsoft teams, google meet, jitsi, meeting" />

    <!-- https://ogp.me -->

    <meta id="ogType" property="og:type" content="app-webrtc" />
    <meta id="ogSiteName" property="og:site_name" content="DSS" />
    <meta id="ogTitle" property="og:title" content="Click the link to make a call." />
    <meta id="ogDescription" property="og:description"
        content="DSS calling provides real-time video calls, messaging and screen sharing." />
    <meta id="ogImage" property="og:image" content="https://sfu.mirotalk.com/images/mirotalksfu.png" />

    <!-- StyleSheet -->

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400,600" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
    <link rel="stylesheet" href="../css/landing.css" />
    <!-- <link rel="stylesheet" href="../css/Snow.css" /> -->

    <!-- Js scripts -->

    <script defer src="../js/Brand.js"></script>
    <script async src="../js/Umami.js"></script>

    <!-- <script async src="../js/Snow.js"></script> -->
    <script src="https://unpkg.com/animejs@3.0.1/lib/anime.min.js"></script>
    <script src="https://unpkg.com/scrollreveal@4.0.0/dist/scrollreveal.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xss/dist/xss.min.js"></script>
</head>

<body class="is-boxed has-animations">
    <div id="snow-container"></div>
    <div class="body-wrap">
        <header class="site-header">
            <div class="container">
                <div class="site-header-inner">
                    <div class="brand header-brand">
                        <div class="m-0">
                            <a href="/">
                                <img class="header-logo-image" src="../images/dss-logo.png"
                                    alt="mirotalksfu-webrtc-logo" />
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <main>
            <section class="hero reveal-from-bottom">
                <div class="container">
                    <div class="hero-inner">
                        <div class="hero-copy">
                        </div>
                    </div>
                </div>
            </section>

            <section class="cta section">
                <div class="container">
                    <div class="cta-inner section-inner br-12">
                        <h3 class="section-title mt-0">
                            Pick a Meeting Name.<br />
                            How about this one?
                        </h3>
                        <div>
                            <div class="mb-24">
                                <label for="roomName"></label>
                                <div class="form-group-desktop">
                                    <input id="roomName" class="form-input" type="text" maxlength="36" value=""
                                        style="border-radius: 6px" />
                                    <button id="genRoomButton"
                                        class="button button-primary br-6 mr-8 mb-8 fas fa-arrows-rotate"
                                        onclick="genRoom()"></button>
                                    <button id="joinRoomButton" class="button button-primary pulse"
                                        onclick="joinRoom()">
                                        Join Room
                                    </button>
                                    <script>
                                        document.getElementById('roomName').onkeyup = (e) => {
                                            if (e.keyCode === 13) {
                                                e.preventDefault();
                                                joinRoom();
                                            }
                                        };
                                        function genRoom() {
                                            document.getElementById('roomName').value = getUUID4();
                                        }
                                        function getUUID4() {
                                            return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (c) =>
                                                (
                                                    c ^
                                                    (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))
                                                ).toString(16),
                                            );
                                        }
                                        function joinRoom() {
                                            const roomName = filterXSS(document.getElementById('roomName').value);
                                            if (roomName) {
                                                window.location.href = '/join/' + roomName;
                                                window.localStorage.lastRoom = roomName;
                                            } else {
                                                alert('Room name empty!\nPlease pick a room name.');
                                            }
                                        }
                                    </script>
                                </div>
                            </div>
                            <div id="lastRoomContainer" class="last-room">
                                <span>Your recent Meeting room:</span>
                                <a id="lastRoom"></a>
                            </div>
                            <script>
                                const lastRoomContainer = document.getElementById('lastRoomContainer');
                                const lastRoom = document.getElementById('lastRoom');
                                const lastRoomName = window.localStorage.lastRoom
                                    ? window.localStorage.lastRoom
                                    : '';
                                if (lastRoomName) {
                                    lastRoomContainer.style.display = 'inline-flex';
                                    lastRoom.setAttribute('href', '/join/' + lastRoomName);
                                    lastRoom.innerText = lastRoomName;
                                }
                            </script>
                        </div>
                    </div>
                </div>
            </section>


        </main>

        <footer id="footer" class="site-footer">
            <div class="container">
                <div class="site-footer-inner">
                    <ul class="footer-links list-reset">

                    </ul>
                    <div class="footer-copyright">&copy; 2024 DSS, all rights reserved</div>
                </div>
            </div>
        </footer>
    </div>

    <script defer src="../js/landing.js"></script>
    <script defer src="../js/newRoom.js"></script>
    <script async defer src="https://buttons.github.io/buttons.js"></script>
</body>

</html>